import{r as le,s as L,n as E,e as ae}from"../chunks/scheduler.e108d1fd.js";import{d as H,S as U,i as F,g as k,s as q,h as $,j as S,B as N,c as C,f as x,k as g,a as T,x as h,z as P,C as ee,m as te,n as se,o as oe,r as j,u as J,v as z,t as K,w as Y}from"../chunks/index.47f5ee31.js";import{w as ie}from"../chunks/index.0378bb41.js";function G(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function ce(s,e){s.d(1),e.delete(s.key)}function re(s,e,t,o,r,n,f,u,d,i,l,y){let m=s.length,b=n.length,_=m;const w={};for(;_--;)w[s[_].key]=_;const a=[],c=new Map,v=new Map,A=[];for(_=b;_--;){const p=y(r,n,_),B=t(p);let R=f.get(B);R?o&&A.push(()=>R.p(p,e)):(R=i(B,p),R.c()),c.set(B,a[_]=R),B in w&&v.set(B,Math.abs(_-w[B]))}const I=new Set,V=new Set;function O(p){H(p,1),p.m(u,l),f.set(p.key,p),l=p.first,b--}for(;m&&b;){const p=a[b-1],B=s[m-1],R=p.key,M=B.key;p===B?(l=p.first,m--,b--):c.has(M)?!f.has(R)||I.has(R)?O(p):V.has(M)?m--:v.get(R)>v.get(M)?(V.add(R),O(p)):(I.add(M),m--):(d(B,f),m--)}for(;m--;){const p=s[m];c.has(p.key)||d(p,f)}for(;b;)O(a[b-1]);return le(A),a}function Q(s){return`yuhchen.github.io/meprpa::${s}`}const ne={getItem:s=>localStorage.getItem(Q(s)),setItem:(s,e)=>{localStorage.setItem(Q(s),e)}},D=(()=>{const s=JSON.parse(ne.getItem("recipeBooks")??"[]"),{subscribe:e,set:t,update:o}=ie(s);return{subscribe:e,push:r=>o(n=>[...n,r]),reset:()=>t([])}})();D.subscribe(s=>ne.setItem("recipeBooks",JSON.stringify(s)));function ue(s){let e,t,o="Add a recipe book",r,n,f=`<label class="svelte-1244pgd">Spreadsheet ID:
      <input name="id" required="" class="svelte-1244pgd"/></label> <label class="svelte-1244pgd">Name:
      <input name="name" class="svelte-1244pgd"/></label> <button class="svelte-1244pgd">Add recipe book</button>`,u,d;return{c(){e=k("div"),t=k("h2"),t.textContent=o,r=q(),n=k("form"),n.innerHTML=f,this.h()},l(i){e=$(i,"DIV",{class:!0});var l=S(e);t=$(l,"H2",{"data-svelte-h":!0}),N(t)!=="svelte-1qehulj"&&(t.textContent=o),r=C(l),n=$(l,"FORM",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-iebvgh"&&(n.innerHTML=f),l.forEach(x),this.h()},h(){g(n,"class","svelte-1244pgd"),g(e,"class","svelte-1244pgd")},m(i,l){T(i,e,l),h(e,t),h(e,r),h(e,n),u||(d=P(n,"submit",ee(s[0])),u=!0)},p:E,i:E,o:E,d(i){i&&x(e),u=!1,d()}}}function W(s,e){let t=s.get(e);if(typeof t=="string")return t;throw Error(`Expected string for \`${e}\` in form data.`)}function fe(s){function e(t){const o=new FormData(t.target),r=W(o,"id"),n={id:r,name:W(o,"name")||r};D.push(n)}return[e]}class de extends U{constructor(e){super(),F(this,e,fe,ue,L,{})}}function X(s,e,t){const o=s.slice();return o[1]=e[t],o}function Z(s,e){let t,o,r,n,f,u,d=e[1].name+"",i,l,y,m,b,_;return{key:s,first:null,c(){t=k("li"),o=k("form"),r=k("input"),f=q(),u=k("span"),i=te(d),l=q(),y=k("button"),m=q(),this.h()},l(w){t=$(w,"LI",{class:!0});var a=S(t);o=$(a,"FORM",{class:!0});var c=S(o);r=$(c,"INPUT",{type:!0,name:!0,class:!0}),f=C(c),u=$(c,"SPAN",{class:!0});var v=S(u);i=se(v,d),v.forEach(x),l=C(c),y=$(c,"BUTTON",{"aria-label":!0,class:!0}),S(y).forEach(x),c.forEach(x),m=C(a),a.forEach(x),this.h()},h(){g(r,"type","hidden"),g(r,"name","id"),r.value=n=e[1].id,g(r,"class","svelte-1xqhwf4"),g(u,"class","svelte-1xqhwf4"),g(y,"aria-label","Remove recipe book"),g(y,"class","svelte-1xqhwf4"),g(o,"class","svelte-1xqhwf4"),g(t,"class","svelte-1xqhwf4"),this.first=t},m(w,a){T(w,t,a),h(t,o),h(o,r),h(o,f),h(o,u),h(u,i),h(o,l),h(o,y),h(t,m),b||(_=P(o,"submit",ee(pe)),b=!0)},p(w,a){e=w,a&1&&n!==(n=e[1].id)&&(r.value=n),a&1&&d!==(d=e[1].name+"")&&oe(i,d)},d(w){w&&x(t),b=!1,_()}}}function he(s){let e,t,o="Your recipe books",r,n,f,u,d,i,l=[],y=new Map,m,b,_=G(s[0]);const w=a=>a[1].id;for(let a=0;a<_.length;a+=1){let c=X(s,_,a),v=w(c);y.set(v,l[a]=Z(v,c))}return{c(){e=k("div"),t=k("h2"),t.textContent=o,r=q(),n=k("button"),f=te("Remove All Recipe Books"),d=q(),i=k("ul");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=$(a,"DIV",{class:!0});var c=S(e);t=$(c,"H2",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1i50hpx"&&(t.textContent=o),r=C(c),n=$(c,"BUTTON",{class:!0});var v=S(n);f=se(v,"Remove All Recipe Books"),v.forEach(x),d=C(c),i=$(c,"UL",{class:!0});var A=S(i);for(let I=0;I<l.length;I+=1)l[I].l(A);A.forEach(x),c.forEach(x),this.h()},h(){g(t,"class","svelte-1xqhwf4"),n.disabled=u=s[0].length===0,g(n,"class","svelte-1xqhwf4"),g(i,"class","svelte-1xqhwf4"),g(e,"class","svelte-1xqhwf4")},m(a,c){T(a,e,c),h(e,t),h(e,r),h(e,n),h(n,f),h(e,d),h(e,i);for(let v=0;v<l.length;v+=1)l[v]&&l[v].m(i,null);m||(b=P(n,"click",D.reset),m=!0)},p(a,[c]){c&1&&u!==(u=a[0].length===0)&&(n.disabled=u),c&1&&(_=G(a[0]),l=re(l,c,w,1,a,_,y,i,ce,Z,null,X))},i:E,o:E,d(a){a&&x(e);for(let c=0;c<l.length;c+=1)l[c].d();m=!1,b()}}}function pe(){}function me(s,e,t){let o;return ae(s,D,r=>t(0,o=r)),[o]}class ve extends U{constructor(e){super(),F(this,e,me,he,L,{})}}function _e(s){let e,t,o="Manage Recipe Books",r,n,f,u,d;return n=new de({}),u=new ve({}),{c(){e=k("div"),t=k("h1"),t.textContent=o,r=q(),j(n.$$.fragment),f=q(),j(u.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var l=S(e);t=$(l,"H1",{"data-svelte-h":!0}),N(t)!=="svelte-1h09ywt"&&(t.textContent=o),r=C(l),J(n.$$.fragment,l),f=C(l),J(u.$$.fragment,l),l.forEach(x),this.h()},h(){g(e,"class","svelte-1pgwcil")},m(i,l){T(i,e,l),h(e,t),h(e,r),z(n,e,null),h(e,f),z(u,e,null),d=!0},p:E,i(i){d||(H(n.$$.fragment,i),H(u.$$.fragment,i),d=!0)},o(i){K(n.$$.fragment,i),K(u.$$.fragment,i),d=!1},d(i){i&&x(e),Y(n),Y(u)}}}class ke extends U{constructor(e){super(),F(this,e,null,_e,L,{})}}export{ke as component};
