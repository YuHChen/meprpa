import{s as j,n as $,e as Y}from"../chunks/scheduler.e108d1fd.js";import{S as q,i as I,g as b,s as k,h as g,B as S,c as x,k as B,a as d,z,C as G,f as m,m as K,j as w,n as P,x as C,D as Q,o as V,r as y,u as D,v as E,d as H,t as O,w as L}from"../chunks/index.744d187e.js";import{w as W}from"../chunks/index.0378bb41.js";function M(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function N(n){return`yuhchen.github.io/meprpa::${n}`}const U={getItem:n=>localStorage.getItem(N(n)),setItem:(n,e)=>{localStorage.setItem(N(n),e)}},A=(()=>{const n=JSON.parse(U.getItem("recipeBooks")??"[]"),{subscribe:e,set:o,update:l}=W(n);return{subscribe:e,push:s=>l(r=>[...r,s]),reset:()=>o([])}})();A.subscribe(n=>U.setItem("recipeBooks",JSON.stringify(n)));function X(n){let e,o="Add a recipe book",l,s,r=`<label class="svelte-1bqjok2">Spreadsheet ID:
    <input name="id" required="" class="svelte-1bqjok2"/></label> <label class="svelte-1bqjok2">Name:
    <input name="name" class="svelte-1bqjok2"/></label> <input type="submit" value="Add recipe book"/>`,c,i;return{c(){e=b("h2"),e.textContent=o,l=k(),s=b("form"),s.innerHTML=r,this.h()},l(t){e=g(t,"H2",{"data-svelte-h":!0}),S(e)!=="svelte-1qehulj"&&(e.textContent=o),l=x(t),s=g(t,"FORM",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-ju8oy8"&&(s.innerHTML=r),this.h()},h(){B(s,"class","svelte-1bqjok2")},m(t,p){d(t,e,p),d(t,l,p),d(t,s,p),c||(i=z(s,"submit",G(n[0])),c=!0)},p:$,i:$,o:$,d(t){t&&(m(e),m(l),m(s)),c=!1,i()}}}function T(n,e){let o=n.get(e);if(typeof o=="string")return o;throw Error(`Expected string for \`${e}\` in form data.`)}function Z(n){function e(o){const l=new FormData(o.target),s=T(l,"id"),r={id:s,name:T(l,"name")||s};A.push(r)}return[e]}class ee extends q{constructor(e){super(),I(this,e,Z,X,j,{})}}function F(n,e,o){const l=n.slice();return l[1]=e[o],l}function J(n){let e,o,l=n[1].name+"",s,r,c;return{c(){e=b("li"),o=b("a"),s=K(l),c=k(),this.h()},l(i){e=g(i,"LI",{});var t=w(e);o=g(t,"A",{target:!0,href:!0});var p=w(o);s=P(p,l),p.forEach(m),c=x(t),t.forEach(m),this.h()},h(){B(o,"target","_new"),B(o,"href",r="https://docs.google.com/spreadsheets/d/e/"+n[1].id+"/pub?output=csv")},m(i,t){d(i,e,t),C(e,o),C(o,s),C(e,c)},p(i,t){t&1&&l!==(l=i[1].name+"")&&V(s,l),t&1&&r!==(r="https://docs.google.com/spreadsheets/d/e/"+i[1].id+"/pub?output=csv")&&B(o,"href",r)},d(i){i&&m(e)}}}function te(n){let e,o="Your recipe books",l,s,r,c,i,t,p,R,v=M(n[0]),f=[];for(let a=0;a<v.length;a+=1)f[a]=J(F(n,v,a));return{c(){e=b("h2"),e.textContent=o,l=k(),s=b("button"),r=K("Delete All Recipe Books"),i=k(),t=b("ol");for(let a=0;a<f.length;a+=1)f[a].c();this.h()},l(a){e=g(a,"H2",{"data-svelte-h":!0}),S(e)!=="svelte-1i50hpx"&&(e.textContent=o),l=x(a),s=g(a,"BUTTON",{});var h=w(s);r=P(h,"Delete All Recipe Books"),h.forEach(m),i=x(a),t=g(a,"OL",{});var u=w(t);for(let _=0;_<f.length;_+=1)f[_].l(u);u.forEach(m),this.h()},h(){s.disabled=c=n[0].length===0},m(a,h){d(a,e,h),d(a,l,h),d(a,s,h),C(s,r),d(a,i,h),d(a,t,h);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(t,null);p||(R=z(s,"click",A.reset),p=!0)},p(a,[h]){if(h&1&&c!==(c=a[0].length===0)&&(s.disabled=c),h&1){v=M(a[0]);let u;for(u=0;u<v.length;u+=1){const _=F(a,v,u);f[u]?f[u].p(_,h):(f[u]=J(_),f[u].c(),f[u].m(t,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=v.length}},i:$,o:$,d(a){a&&(m(e),m(l),m(s),m(i),m(t)),Q(f,a),p=!1,R()}}}function se(n,e,o){let l;return Y(n,A,s=>o(0,l=s)),[l]}class ne extends q{constructor(e){super(),I(this,e,se,te,j,{})}}function le(n){let e,o="Manage Recipe Books",l,s,r,c,i;return s=new ee({}),c=new ne({}),{c(){e=b("h1"),e.textContent=o,l=k(),y(s.$$.fragment),r=k(),y(c.$$.fragment)},l(t){e=g(t,"H1",{"data-svelte-h":!0}),S(e)!=="svelte-1h09ywt"&&(e.textContent=o),l=x(t),D(s.$$.fragment,t),r=x(t),D(c.$$.fragment,t)},m(t,p){d(t,e,p),d(t,l,p),E(s,t,p),d(t,r,p),E(c,t,p),i=!0},p:$,i(t){i||(H(s.$$.fragment,t),H(c.$$.fragment,t),i=!0)},o(t){O(s.$$.fragment,t),O(c.$$.fragment,t),i=!1},d(t){t&&(m(e),m(l),m(r)),L(s,t),L(c,t)}}}class re extends q{constructor(e){super(),I(this,e,null,le,j,{})}}export{re as component};
